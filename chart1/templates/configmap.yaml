apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ .Release.Name }}-configmap
data:
  myvalue: "Hello chart1"
  {{- with .Values.favourite }} # start with scope
  drink: {{  .drink |  quote }}
  food: {{  .food | upper | quote  }}
  {{- if eq .drink "coffee" }}
  cup: true
  {{- end }}
  preference: {{ print "I prefer  " .drink  " to juice" }}
  release: {{ $.Release.Name }}  #Here $ is mapped to the root scope , without $ sign .Release.Name cannot be used, because of with restricted scope
  {{- end }} #end of with scope